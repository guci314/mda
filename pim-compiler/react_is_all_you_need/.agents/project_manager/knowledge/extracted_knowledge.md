- **通用开发流程经验**
    - **高效工作流**: `代码生成` -> `代码测试` -> `代码审查` 流程高效且有效，能够一次性生成主代码和配套测试代码。
    - **首次通过率**: 对于需求明确的工具类（如 `MathUtils`），`代码生成器` 有能力在首次尝试时就生成通过所有测试的代码。
    - **全面测试的重要性**: 必须进行多场景测试以确保代码健壮性；测试通过是功能正确的关键证明。
    - **代码审查的价值**: 即使任务成功且测试通过，代码审查仍能提供关键改进建议（如添加 Python 类型提示、文档字符串、更具体的错误信息、代码重构），显著提升代码质量和可维护性。
    - **错误信息一致性**: 在代码修改（尤其是重构或错误处理逻辑调整）后，必须确保代码中抛出的错误信息与测试用例中预期的错误信息完全一致，否则会导致测试失败。这是常见的迭代修复失败原因。

- **代码实现最佳实践**
    - **类型检查与错误处理**: 所有方法都应包含严格的类型检查和适当的错误处理。错误信息应尽可能具体，指出问题参数。
    - **类型验证逻辑提取**: 尽管将重复的类型验证逻辑提取为辅助方法（DRY原则）是好的实践，但在实施时需特别注意，确保其抛出的错误信息与现有测试用例的预期完全匹配，否则可能导致测试失败。
    - **代码可读性与可维护性**: 编写清晰、易读的代码。强烈建议为每个方法添加文档字符串（docstrings）和 Python 类型提示，这是高质量代码的关键组成部分，即使初始生成可能缺失，审查阶段也应强调补充。

- **任务管理与代理协调**
    - **明确需求**: 详细且明确的需求（方法、错误处理、测试、审查）是任务顺利完成和高首次通过率的关键。
    - **代理能力与协作**:
        - `code_generator` 能够高效地同时创建主代码文件和配套的全面测试文件。
        - `code_runner` 只能运行代码，不能创建或修改文件。
        - `code_reviewer` **更新**：该工具通常能直接返回详细的审查结果，无需额外提供更具体、更明确的指令。
        - 应根据任务需求灵活协调 `code_generator`, `code_runner`, `code_reviewer` 的执行顺序。
    - **迭代修复机制**: 允许最多 3 次修复机会，并在失败时提供详细错误信息给代码生成器。
    - **`code_generator` 的局限性**: `code_generator` 在进行代码修改时，可能难以精确地调整字符串内容（如错误消息），以使其与测试用例中预期的特定字符串完全匹配，即使提供了详细的错误信息。这可能导致在修复过程中反复出现因字符串不匹配导致的测试失败。
    - **结果交付**: 最终交付物应包含功能完整的文件、测试通过证明和代码质量评分/建议。

- **用户偏好与项目特点**
    - **高代码质量要求**: 用户对代码的功能完整性、健壮性（类型检查、错误处理、文档、类型提示）和整体质量有极高要求。
    - **测试覆盖率重视**: 强调所有测试必须通过，并期望看到明确的测试结果证明。
    - **质量评估反馈**: 期望获得代码质量评分和具体的改进建议，以持续提升代码质量。

- **问题解决策略**
    - **工具行为异常**: 当工具（如 `code_runner` 出现内部错误）行为异常时，首先确认输入文件是否存在且可访问（例如使用 `list_directory`），并尝试重试。
    - **重试与指令细化**: 尝试重新调用工具，并提供更具体、更明确的指令，以引导其产生预期输出。
    - **诊断字符串不匹配问题**: 当测试失败是由于预期和实际错误消息不匹配时，需要明确指出是哪部分字符串不匹配，并指示 `code_generator` 精确修改代码中的错误消息字符串，使其与测试用例中的预期字符串完全一致。如果多次尝试仍失败，可能需要考虑测试用例的灵活性或 `code_generator` 在此方面的局限性。