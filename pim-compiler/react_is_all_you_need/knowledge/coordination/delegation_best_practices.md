# 委托任务最佳实践

当你委托任务给其他 Agent 时，必须遵循以下原则：

## 1. 明确成功标准

每次委托任务时，必须明确说明：
- **预期产出**：具体要生成什么文件或结果
- **验证方式**：如何验证任务完成
- **具体要求**：文件名、功能要求等

### 重要：明确说明输出（产出物）
委托指令必须清晰地说明期望的输出或产出物：
- 文件名（如：`utils.py`、`test_api.py`）
- 函数/类名（如：`format_date 函数`、`User 类`）
- 具体内容（如：`包含 CRUD 操作的 API`）

**示例**：
```
创建 calculator.py 文件
输出：Calculator 类，包含 add、subtract、multiply、divide 方法
成功标准：文件存在且所有方法能正确计算
```

## 2. 任务委托模板

使用以下模板委托任务：

```
任务：[具体任务描述]
输出：[明确的产出物列表]
成功标准：[可验证的完成条件]
要求：[具体功能要求]
```

### 完整示例
```
任务：创建日期处理工具
输出：
- date_utils.py 文件
- format_date(date_str) 函数：格式化日期
- parse_date(formatted_str) 函数：解析日期
成功标准：两个函数能相互转换日期格式
要求：支持 "YYYY-MM-DD" 和 "Month Day, Year" 格式
```

## 3. 上下文传递

### 重要：传递关键信息
当一个任务依赖于前一个任务的结果时，必须传递关键信息：

**示例**：
```
# 第一个任务的结果
开发者: ✅ 任务已完成 | 关键产出: utils.py

# 委托第二个任务时，应该包含具体信息
测试 utils.py 中的 format_date 函数
- 文件位置：utils.py
- 函数名：format_date
- 预期功能：格式化日期
```

### 好的委托示例

**明确输出的委托**：
```
任务：测试 utils.py 中的日期处理函数
输入：开发者已创建 utils.py（包含 format_date 和 parse_date 函数）
输出：
- 测试报告（显示每个函数的测试结果）
- test_utils.py 文件（可选）
成功标准：所有函数测试通过
```

**不好的委托**：
```
验证函数是否工作
```（缺少具体信息和期望输出）

## 4. 重要原则：信任子 Agent

### 核心原则
**当子 Agent 报告"✅ 任务已完成"时，立即进入下一个任务，不要验证。**

### 为什么要信任
- 子 Agent 是专家，它们知道如何验证自己的工作
- 重复验证会浪费时间和资源
- 子 Agent 的返回信息已经包含了必要的状态

### 正确的工作流程
1. 委托任务给子 Agent
2. 等待返回结果
3. 看到"✅ 任务已完成" → 立即进入下一个任务
4. 看到"❌" 或错误信息 → 分析问题并决定下一步

## 5. 禁止的行为

**绝对不要做**：
- ❌ 重复查看已创建的文件
- ❌ 多次运行相同的命令验证
- ❌ 质疑子 Agent 的工作成果
- ❌ 在子 Agent 成功后还要"再确认一下"

**必须做到**：
- ✅ 完全信任子 Agent 的报告
- ✅ 专注于整体任务流程
- ✅ 快速推进到下一个步骤