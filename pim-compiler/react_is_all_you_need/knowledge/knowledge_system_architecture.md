# Agent知识体系架构

## 核心概念：DNA只遗传不进化

### 🧬 什么是DNA？
DNA是每个Agent默认加载的四个核心知识文件：
1. **agent_essence.md** - Agent本质认知
2. **validation_simplicity.md** - 验证策略
3. **fractal_agent_knowledge.md** - 分形同构知识
4. **learning_functions.md** - 学习函数

**关键特性**：
- **只遗传，不进化** - DNA保持稳定，不会被修改
- **分形同构** - 每个Agent都有相同的DNA
- **系统基石** - 定义Agent的基本能力

### 📚 完整的知识体系

```
┌─────────────────────────────────────────────┐
│           先验层（执行前存在）                │
├─────────────────────────────────────────────┤
│ 1. 先验知识库 (knowledge/*.md)               │
│    └── DNA子集（4个核心文件）- 默认加载       │
│        └── 其他知识文件 - 可选加载           │
│                                             │
│ 2. 后天教育 (agent_knowledge.md)            │
│    └── 个体学习的知识 - 可修改              │
│                                             │
│ 3. 经验积累 (experience.md)                 │
│    └── 运行时归纳的规律 - 自动积累           │
├─────────────────────────────────────────────┤
│           后验层（执行中产生）                │
├─────────────────────────────────────────────┤
│ • 消息列表 (messages)                       │
│ • 压缩记忆 (compact.md)                     │
│ • 执行状态 (ExecutionContext)               │
│ • 日志文件 (output.log)                     │
└─────────────────────────────────────────────┘
```

### 🌱 Agent的成长模型

**DNA提供基础** → **教育赋予能力** → **经验带来智慧**

1. **出生时**：
   - 继承DNA（4个核心文件）
   - 拥有基本能力

2. **成长靠教育**（agent_knowledge.md）：
   - 用户或父Agent教授的知识
   - 可以随时修改和扩展
   - 每个Agent的教育内容不同

3. **成长靠学习**（experience.md）：
   - 通过 `@learning` 函数积累
   - 从实践中归纳规律
   - 有容量限制（10KB），自然遗忘

### 🔄 为什么DNA不进化？

**稳定性保证**：
- 核心功能不会因进化而破坏
- 所有Agent保持基本一致性
- 避免"癌变"（失控的进化）

**可控的成长**：
- 通过教育控制Agent发展方向
- 通过经验实现个性化
- 成长路径可预测、可管理

### 📖 实践指南

#### 创建新Agent时：
```python
# DNA自动加载，不需要指定
agent = ReactAgentMinimal(
    name="my_agent",
    # DNA文件会自动加载
    knowledge_files=["special_knowledge.md"]  # 额外的知识
)
```

#### 教育Agent：
```markdown
# 修改 ~/.agent/my_agent/agent_knowledge.md
## 我的能力
- 新学会的技能...
- 特定领域知识...
```

#### Agent自我学习：
```
用户：@learning
Agent：[执行学习函数，将经验写入experience.md]
```

### 🎯 核心理念

**生物学隐喻**：
- DNA = 遗传的稳定基因
- 教育 = 后天的知识传授
- 经验 = 一生的智慧积累

**系统设计哲学**：
- **稳定核心**：DNA不变
- **灵活成长**：教育+经验
- **分形同构**：每个Agent都是完整系统

### ⚠️ 重要原则

1. **不要修改DNA文件**（knowledge/目录下的核心文件）
2. **通过agent_knowledge.md教育Agent**
3. **让Agent通过@learning积累经验**
4. **DNA只负责遗传，不负责进化**

## 总结

这个知识体系实现了：
- **统一性**：通过DNA保证所有Agent的基本一致
- **多样性**：通过教育和经验实现个性化
- **稳定性**：核心不变，成长可控
- **智能性**：能学习、能积累、能传承

记住：**DNA只遗传不进化，Agent的成长靠教育和学习**。