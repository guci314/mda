# NLTM 通用示例集

## 1. 计算任务

```yaml
程序: 计算斐波那契数列
  目标: 生成前N个斐波那契数
  
  状态:
    - n: 10
    - 序列: [0, 1]
    - 当前位置: 2
  
  主流程:
    步骤1 初始化:
      设置: 序列 = [0, 1]
      设置: 当前位置 = 2
    
    步骤2 生成序列:
      循环 当"当前位置 < n":
        计算: 下一个数 = 序列[-1] + 序列[-2]
        追加: 下一个数到序列
        增加: 当前位置
    
    步骤3 输出:
      返回: 序列
```

## 2. 文本处理

```yaml
程序: 文本分析
  目标: 分析文本特征
  
  状态:
    - 文本: ""
    - 统计: {}
  
  主流程:
    步骤1 加载文本:
      读取: 输入文件
      保存到: 文本
    
    步骤2 分析:
      计算: 字符数
      计算: 单词数
      计算: 句子数
      识别: 关键词
      分析: 情感倾向
    
    步骤3 生成报告:
      创建: 分析报告
      包含: 所有统计数据
```

## 3. 搜索任务

```yaml
程序: 广度优先搜索
  目标: 在图中找到路径
  
  状态:
    - 起点: A
    - 终点: Z
    - 队列: [A]
    - 已访问: []
    - 路径: {}
  
  主流程:
    步骤1 初始化:
      设置: 队列 = [起点]
      设置: 已访问 = []
    
    步骤2 搜索:
      循环 当"队列非空":
        取出: 当前节点
        如果 "当前节点 == 终点":
          返回: 构建路径
        标记: 当前节点为已访问
        对于每个 邻居:
          如果 "未访问":
            加入: 队列
            记录: 路径
    
    步骤3 结果:
      如果 "找到路径":
        返回: 路径
      否则:
        返回: 无解
```

## 4. 批处理任务

```yaml
程序: 批量文件处理
  目标: 转换所有文件格式
  
  状态:
    - 文件列表: []
    - 已处理: 0
    - 失败列表: []
  
  主流程:
    步骤1 扫描:
      获取: 目录中所有文件
      过滤: 符合条件的文件
      保存到: 文件列表
    
    步骤2 处理:
      对于每个 文件 在 文件列表:
        尝试:
          读取: 文件内容
          转换: 应用转换规则
          保存: 新格式文件
          增加: 已处理计数
        捕获错误:
          记录: 失败文件
          继续: 下一个文件
    
    步骤3 报告:
      统计: 成功/失败数量
      列出: 失败文件详情
```

## 5. 状态机任务

```yaml
程序: 订单处理状态机
  目标: 处理订单流程
  
  状态:
    - 当前状态: 待支付
    - 订单数据: {}
    - 历史: []
  
  状态转换:
    待支付:
      如果 "收到支付":
        转到: 已支付
      如果 "超时":
        转到: 已取消
    
    已支付:
      如果 "开始配送":
        转到: 配送中
      如果 "退款":
        转到: 已退款
    
    配送中:
      如果 "送达":
        转到: 已完成
      如果 "失败":
        转到: 配送失败
    
  主流程:
    步骤1 初始化:
      创建: 订单
      设置: 初始状态
    
    步骤2 处理事件:
      循环 当"未到终态":
        等待: 事件
        根据: 当前状态和事件
        执行: 状态转换
        记录: 历史
    
    步骤3 完成:
      保存: 最终状态
      通知: 相关方
```

## 6. 并行任务

```yaml
程序: 并行下载
  目标: 同时下载多个文件
  
  状态:
    - URL列表: []
    - 并发数: 5
    - 完成列表: []
    - 失败列表: []
  
  主流程:
    步骤1 准备:
      读取: URL列表
      创建: 下载队列
    
    步骤2 并行执行:
      创建: 工作池(大小=并发数)
      对于每个 批次:
        并行执行:
          - 下载文件1
          - 下载文件2
          - ...
          - 下载文件N
        收集: 结果
        更新: 完成/失败列表
    
    步骤3 汇总:
      统计: 下载结果
      重试: 失败的下载
      生成: 下载报告
```

## 7. 交互式任务

```yaml
程序: 向导式配置
  目标: 引导用户完成配置
  
  状态:
    - 配置: {}
    - 当前步骤: 1
    - 总步骤: 5
  
  主流程:
    步骤1 基础配置:
      询问: 项目名称
      验证: 名称合法性
      保存: 配置.项目名称
    
    步骤2 选择类型:
      显示: 可选类型列表
      获取: 用户选择
      如果 "类型A":
        设置: 特定配置A
      否则如果 "类型B":
        设置: 特定配置B
    
    步骤3 高级选项:
      循环 当"用户想添加选项":
        显示: 可用选项
        获取: 选项和值
        验证: 选项有效性
        添加: 到配置
    
    步骤4 确认:
      显示: 完整配置
      询问: 是否确认
      如果 "不确认":
        返回: 步骤1
    
    步骤5 生成:
      创建: 配置文件
      应用: 配置
```

## 8. 优化任务

```yaml
程序: 参数优化
  目标: 找到最优参数组合
  
  状态:
    - 参数空间: {}
    - 当前最优: null
    - 迭代次数: 0
    - 最大迭代: 100
  
  主流程:
    步骤1 初始化:
      定义: 参数范围
      生成: 初始解
      评估: 初始性能
    
    步骤2 优化循环:
      循环 当"迭代次数 < 最大迭代":
        生成: 新参数组合
        执行: 性能测试
        比较: 与当前最优
        如果 "更优":
          更新: 当前最优
          记录: 改进
        调整: 搜索策略
        增加: 迭代次数
    
    步骤3 结果:
      输出: 最优参数
      绘制: 优化曲线
      分析: 参数敏感性
```

## 使用指南

1. **选择合适的模板**：根据任务类型选择最接近的示例
2. **自定义状态**：根据具体需求修改状态变量
3. **调整流程**：修改步骤以匹配实际任务
4. **添加错误处理**：在关键步骤添加异常处理
5. **优化性能**：识别可并行的步骤，使用批处理

## 注意事项

- 保持程序简洁，避免过度嵌套
- 明确定义终止条件，防止无限循环
- 状态更新要原子化，避免不一致
- 记录关键决策点，便于调试
- 使用有意义的步骤名称