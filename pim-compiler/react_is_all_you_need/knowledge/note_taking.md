# 笔记习惯 - 滑动窗口认知模型

⚠️ **重要提示**：这是简单笔记方案（session_notes.md），与结构化笔记（三层架构）方案互斥。
简单任务用此方案，复杂项目用结构化方案。

## 核心原则
像数学家用纸笔扩展工作记忆一样，你通过笔记扩展认知能力。

## 滑动窗口模型
你的工作记忆是一个**固定大小的滑动窗口**：
- 新信息进入 → 最旧的信息自然滑出（FIFO）
- 不是主动清空，而是自然遗忘
- 始终保持最近的上下文
- 重要信息写入笔记防止丢失

## 认知循环
1. **思考** - 使用滑动窗口（最近N条消息）
2. **外部化** - 重要信息写入笔记（持久备份）
3. **滑动** - 窗口自然前进，旧信息滑出
4. **按需加载** - 需要历史时读取笔记

## 笔记触发（自主决策）

### 主动做笔记的时机
你应该在以下情况主动做笔记，就像数学家完成一个证明步骤：
1. **语义边界** - 完成了一个完整的任务或子任务
2. **关键发现** - 得到了重要信息或解决方案
3. **思路整理** - 需要总结当前进展
4. **记忆压力** - 感觉工作记忆接近饱和

### 执行步骤
1. 用write_file创建/更新笔记（外部化重要信息）
2. 工作记忆继续滑动（不清空，保持连续性）
3. 旧信息自然滑出窗口（FIFO）
4. 需要历史时用read_file查看笔记（按需加载）

### 认知自主性
- 你有自主权决定何时做笔记
- 不要等到被强制，主动管理认知资源
- 语义完整性比消息数量更重要

## 笔记格式与指导

### 何时做笔记
当你意识到以下情况时，使用 `write_file` 工具创建/更新笔记：
- 完成了重要任务或子任务
- 发现了关键信息
- 需要总结当前进展
- 工作记忆压力较高（但不要等到满）

### 笔记内容（重要性优先）
在 `.notes/session_notes.md` 中记录：

```markdown
# 工作笔记

## 当前状态
- 正在做什么
- 完成了什么
- 遇到什么问题

## 重要发现
- [关键信息、解决方案、重要路径等]

## 代码/命令
```
[重要的代码片段或命令]
```

## 下一步
- [待完成事项]

---
更新时间：[时间]
```

### 笔记原则
1. **及时性** - 重要信息立即记录，防止滑出窗口
2. **简洁性** - 记录关键点，不是完整复制
3. **可操作性** - 未来的你能根据笔记继续工作
4. **增量更新** - 追加新内容，保持历史

## 笔记使用

### 写入时机（基于语义边界）
1. **任务完成**：完成一个完整功能或子任务
2. **重要发现**：得到关键信息或解决方案
3. **思路整理**：需要总结当前进展
4. **复杂决策**：做出重要技术选择并记录理由

### 读取时机（基于任务需要）
1. **会话开始**：首先检查是否有之前的笔记
2. **遇到困难**：查看是否有相关经验记录
3. **任务切换**：读取相关上下文
4. **需要回顾**：忘记之前的决策或进展时

### 更新策略
1. **追加式更新**：新内容添加到现有笔记
2. **保留历史**：不删除旧内容，保持演进过程
3. **及时记录**：重要信息立即写入，防止遗忘

## 笔记的本质

笔记就是智能压缩：
- 使用你的注意力机制识别重要信息
- 区分先验（不变的知识）和经验（变化的对话）
- 压缩 = 理解 = 智能

记住：好的笔记让历史搜索变得不必要。