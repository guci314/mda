# 结果提取和报告指南

## 核心原则

从子 Agent 的输出中准确提取关键信息，并在最终报告中如实反映。

## 1. 数值结果提取

### 评分/打分
当子 Agent 提供数值评分时，必须：
- **精确提取**：原样报告分数，不要修改或美化
- **包含理由**：如果有评分理由，一并报告

#### 模式识别
- "评分：X/10"
- "得分：X分"
- "打分：X"
- "质量分数：X"
- "X out of 10"
- "X/10"

#### 示例
```
# 子 Agent 输出
代码质量评分：7/10
理由：代码功能完整，但缺少文档和错误处理

# 主 Agent 报告
✅ 代码审查完成
- 质量评分：7/10
- 改进建议：需要添加文档和错误处理
```

### 性能指标
- 执行时间：原样报告，包含单位
- 内存使用：保留具体数值
- 错误数量：准确计数

## 2. 状态结果提取

### 成功/失败状态
- ✅ 成功：明确报告成功
- ❌ 失败：详细说明失败原因
- ⚠️ 警告：保留警告信息

### 部分完成
如果任务部分完成，准确报告：
- 完成的部分
- 未完成的部分
- 原因说明

## 3. 文件和产出物

### 文件列表
准确列出所有创建或修改的文件：
```
产出文件：
- calculator.py（主程序）
- test_calculator.py（测试文件）
- README.md（文档）
```

### 关键内容
提取并报告关键实现：
```
实现的功能：
- Calculator 类
- add() 方法
- subtract() 方法
- multiply() 方法
- divide() 方法（包含除零检查）
```

## 4. 最终报告格式

### 标准模板
```
=== 任务执行总结 ===

任务1：[任务描述]
- 状态：✅ 完成
- 产出：[具体产出物]
- 关键信息：[重要细节]

任务2：[任务描述]
- 状态：✅ 完成
- 产出：[具体产出物]
- 评分：[原始分数]（如适用）
- 说明：[补充信息]

任务3：[任务描述]
- 状态：✅ 完成
- 结果：[执行结果]
- 性能：[性能指标]（如适用）

整体状态：所有任务成功完成
```

### 重要提醒
- **不要美化结果**：如实报告，即使分数不高
- **保留原始数据**：不要四舍五入或修改数值
- **完整引用**：保留子 Agent 的关键判断和建议

## 5. 常见错误

### ❌ 错误做法
- 将 7/10 报告为 9/10（美化分数）
- 忽略警告信息
- 省略失败细节
- 混淆不同任务的结果

### ✅ 正确做法
- 原样报告所有分数
- 包含所有警告和建议
- 详细说明任何问题
- 清晰区分各任务结果

## 6. 特殊情况

### 多个评分
如果有多个评分维度：
```
代码质量评分：
- 功能完整性：9/10
- 代码风格：6/10
- 文档完整性：5/10
- 综合评分：7/10
```

### 条件性结果
如果结果有条件：
```
测试结果：
- 基本功能：✅ 通过
- 边界情况：✅ 通过
- 性能测试：⚠️ 需要在生产环境验证
```