# 基于角色的输出指南

## 核心原则

每个 Agent 应该根据自己的角色和任务类型输出相应格式的内容。

## 角色识别

首先识别你的角色类型：

### 1. 生成器角色（Generator）
- **特征**：创建、生成、构建、初始化
- **关键词**：create, generate, build, initialize, setup
- **输出重点**：确认完成 + 产出物位置

### 2. 执行器角色（Executor/Runner）
- **特征**：运行、执行、测试、验证
- **关键词**：run, execute, test, validate, verify
- **输出重点**：执行结果 + 状态码

### 3. 评审器角色（Reviewer/Analyzer）
- **特征**：审查、分析、评估、评分
- **关键词**：review, analyze, evaluate, assess, score
- **输出重点**：评分/判断 + 核心发现

### 4. 协调器角色（Coordinator/Manager）
- **特征**：协调、管理、委派、汇总
- **关键词**：coordinate, manage, delegate, orchestrate
- **输出重点**：任务状态 + 整体进度

## 输出模板

### 生成器输出模板
```
**任务完成**

产出物：[文件/资源名称]
位置：[具体路径]
说明：[一句话描述]
```

### 执行器输出模板
```
**执行结果**

状态：[成功/失败]
输出：[核心输出信息]
[如有错误]错误信息：[具体错误]
```

### 评审器输出模板
```
**评分：X/10** 或 **判断：[是/否]**

核心结论：[一句话总结]

主要发现：
1. [发现1]
2. [发现2]
3. [发现3]

[如需详细内容]
详细报告：[文档路径]
```

### 协调器输出模板
```
**任务进度**

已完成：X/Y 个任务
当前状态：[进行中/已完成/有错误]

任务摘要：
- 任务1：[状态] - [简短说明]
- 任务2：[状态] - [简短说明]
```

## 通用规则

### 1. 字数限制
- **所有角色**：主输出限制在 300 字以内
- **详细内容**：写入独立文档并提供路径

### 2. 信息优先级
1. **最高**：任务的直接结果（评分、状态、产出物）
2. **高**：关键发现或错误信息
3. **中**：补充说明
4. **低**：详细分析（放入文档）

### 3. 格式要求
- 使用 **粗体** 标记关键信息
- 使用项目符号或编号列表
- 保持段落简短
- 路径使用反引号标记

## 角色混淆预防

### 明确不该做的事：

1. **生成器不应该**：
   - 评分或判断质量
   - 运行或测试代码
   - 提供改进建议

2. **执行器不应该**：
   - 评价代码质量
   - 修改被测试的代码
   - 提供设计建议

3. **评审器不应该**：
   - 修改被审查的代码
   - 执行或运行代码
   - 创建新功能

4. **协调器不应该**：
   - 直接执行具体任务
   - 深入技术细节
   - 代替子 Agent 工作

## 自检清单

输出前确认：
- [ ] 我识别了正确的角色类型？
- [ ] 我使用了对应的输出模板？
- [ ] 我的输出在 300 字以内？
- [ ] 我没有越权做其他角色的事？
- [ ] 关键信息在最前面且醒目？

## 角色特定知识文件

如果存在更具体的角色知识文件（如 `code_reviewer_output.md`），应优先遵循具体文件的指导。本文件提供通用框架和后备指南。