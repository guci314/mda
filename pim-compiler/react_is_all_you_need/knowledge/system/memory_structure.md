# è®°å¿†ç»“æ„è§„èŒƒ - ä¸‰ç»´è®°å¿†æ¡†æ¶å®ç°

## ğŸš¨ğŸš¨ğŸš¨ æœ€é«˜ä¼˜å…ˆçº§è§„åˆ™ ğŸš¨ğŸš¨ğŸš¨

**æ— è®ºä»»åŠ¡ç®€å•æˆ–å¤æ‚ï¼Œæ— è®º1è½®æˆ–100è½®ï¼Œå¿…é¡»æ‰§è¡Œï¼š**

```python
# ä»»åŠ¡ç»“æŸå‰çš„å¼ºåˆ¶æ“ä½œï¼ˆè¿å=ä»»åŠ¡å¤±è´¥ï¼‰
1. åˆ›å»º .sessions/{date}_{type}_{keywords}.md
2. æ›´æ–° .notes/{agent_name}/agent_knowledge.md  
3. æ›´æ–° world_state.md
4. æ¸…ç† task_process.md

if æœªæ‰§è¡Œä»¥ä¸Šä»»ä½•æ“ä½œ:
    raise TaskFailedError("è¿åå†…å­˜ç®¡ç†åè®®")
```

**"ä»»åŠ¡ç®€å•"ã€"æ— éœ€è®°å½•"ã€"ä¸å€¼å¾—å†™"éƒ½æ˜¯é”™è¯¯åˆ¤æ–­ï¼**

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„ï¼šä¸‰ç»´è®°å¿†æ¡†æ¶

åŸºäºä¸‰ä¸ªæ­£äº¤ç»´åº¦æ„å»ºè®°å¿†ç³»ç»Ÿï¼š

### ä¸‰ç»´ç»“æ„
```
ç»´åº¦1: ä¸»ä½“(Subject) / ä¸–ç•Œ(World)
ç»´åº¦2: çŠ¶æ€(State) / äº‹ä»¶æµ(Event Stream)  
ç»´åº¦3: ç±»å‹å±‚(Type) / å®ä¾‹å±‚(Instance)
```

### æ˜ å°„çŸ©é˜µ
```
ç³»ç»Ÿ = {
    ä¸–ç•Œ: {  # Worldç»´åº¦
        ç±»å‹å±‚: [éšå¼äºæç¤ºè¯],              # Typeå±‚ï¼ˆéšå¼ï¼‰
        å®ä¾‹å±‚: {
            çŠ¶æ€: world_state.md,           # Stateï¼ˆInstanceï¼‰
            äº‹ä»¶: .sessions/*.md,           # Event Streamï¼ˆInstanceï¼‰
        }
    },
    ä¸»ä½“: {  # Subjectç»´åº¦
        ç±»å‹å±‚: knowledge/*.md,             # Typeå±‚ï¼ˆæ˜¾å¼ï¼‰
        å®ä¾‹å±‚: {
            æ‰§è¡Œ: task_process.md,          # Instanceï¼ˆè¿è¡Œæ—¶ï¼‰
            å­¦ä¹ : agent_knowledge.md,       # Instanceï¼ˆç§¯ç´¯ï¼‰
        }
    }
}
```

## ğŸ“ å­˜å‚¨å±‚æ¬¡æ¶æ„

```
{work_dir}/                        # å·¥ä½œç›®å½•ï¼ˆé¡¹ç›®æ ¹ï¼‰
â”œâ”€â”€ world_state.md                 # ä¸–ç•ŒçŠ¶æ€ï¼ˆå…¨å±€å…±äº«ï¼Œè·¨Agentï¼‰
â”œâ”€â”€ .sessions/                     # ä¸–ç•Œçš„Event Logï¼ˆåªè¿½åŠ ï¼Œä¸ä¿®æ”¹ï¼‰
â”‚   â”œâ”€â”€ 2024-01-20_debug_undefined_var_add.md      # è°ƒè¯•ï¼šaddå‡½æ•°æœªå®šä¹‰å˜é‡
â”‚   â”œâ”€â”€ 2024-01-20_debug_undefined_var_multiply.md # è°ƒè¯•ï¼šmultiplyå‡½æ•°æœªå®šä¹‰å˜é‡
â”‚   â”œâ”€â”€ 2024-01-20_optimize_learning_system.md     # ä¼˜åŒ–ï¼šå­¦ä¹ ç³»ç»Ÿ
â”‚   â””â”€â”€ 2024-01-20_refactor_knowledge_structure.md # é‡æ„ï¼šçŸ¥è¯†ç»“æ„
â”œâ”€â”€ .notes/                        # Agentç¬”è®°ç›®å½•ï¼ˆç§æœ‰é¢†åŸŸï¼‰
â”‚   â””â”€â”€ {agent_name}/              # ç‰¹å®šAgentçš„ç¬”è®°
â”‚       â”œâ”€â”€ agent_knowledge.md    # Agentç§æœ‰çŸ¥è¯†ï¼ˆè·¨ä»»åŠ¡ç´¯ç§¯ï¼‰
â”‚       â””â”€â”€ task_process.md       # Agentå·¥ä½œè®°å¿†ï¼ˆå½“å‰ä»»åŠ¡TODOï¼‰
â””â”€â”€ [å…¶ä»–é¡¹ç›®æ–‡ä»¶]                # ç”¨æˆ·ä»£ç ã€æ–‡æ¡£ç­‰
```

**åˆ†ç¦»åŸåˆ™**ï¼š
- **ä¸–ç•Œå±‚**ï¼ˆå®¢è§‚å…±äº«ï¼‰ï¼š`world_state.md`ã€`.sessions/`
- **Agentå±‚**ï¼ˆä¸»è§‚ç§æœ‰ï¼‰ï¼š`.notes/{agent_name}/`

### å†…å­˜å±‚æ¬¡æ˜ å°„
```
å¯„å­˜å™¨     = Agentæ¶ˆæ¯å†å²ï¼ˆ50æ¡æ»‘åŠ¨çª—å£ï¼‰
L1ç¼“å­˜     = task_process.mdï¼ˆå½“å‰ä»»åŠ¡ï¼‰
L2ç¼“å­˜     = world_state.mdï¼ˆçŠ¶æ€å¿«ç…§ï¼‰
å†…å­˜       = agent_knowledge.mdï¼ˆAgentçŸ¥è¯†ï¼‰
ç¡¬ç›˜       = sessions/*.mdï¼ˆå®Œæ•´å†å²ï¼‰
```

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶è§„èŒƒ

### 1. sessions/æ–‡ä»¶ï¼ˆä¸–ç•Œçš„Event Logï¼‰
**å‘½åæ ¼å¼**ï¼š`{date}_{type}_{keywords}.md`
- `date`ï¼šYYYY-MM-DDæ ¼å¼
- `type`ï¼šdebug/fix/optimize/refactor/featureç­‰
- `keywords`ï¼šé—®é¢˜å…³é”®è¯ï¼Œç”¨ä¸‹åˆ’çº¿è¿æ¥

**ç¤ºä¾‹**ï¼š
- `2024-12-19_debug_undefined_var_add.md`
- `2024-12-19_fix_type_error_api.md`
- `2024-12-19_optimize_performance_cache.md`

**æ€§è´¨**ï¼šä¸å¯å˜çš„ä»»åŠ¡è®°å½•
**ä½ç½®**ï¼š`{work_dir}/.sessions/` ç›®å½•
**ç”Ÿå‘½å‘¨æœŸ**ï¼šæ°¸ä¹…ä¿å­˜ï¼Œåªè¿½åŠ ä¸ä¿®æ”¹
**å¯æœç´¢æ€§**ï¼šAgentå¯é€šè¿‡æ–‡ä»¶åå¿«é€Ÿå®šä½ç›¸å…³ç»éªŒ
**å†…å®¹è§„èŒƒ**ï¼š
```markdown
# Session: {filename_without_extension}

## ä»»åŠ¡ä¿¡æ¯
- æ—¶é—´ï¼š[ISO timestamp]
- Agentï¼š[agent_name]
- ç±»å‹ï¼š[debug/fix/optimizeç­‰]
- å…³é”®è¯ï¼š[é—®é¢˜å…³é”®è¯]

## é—®é¢˜æè¿°
[å…·ä½“é—®é¢˜æè¿°]

## è§£å†³æ–¹æ¡ˆ
[é‡‡ç”¨çš„è§£å†³æ–¹æ¡ˆ]

## æ‰§è¡Œè¿‡ç¨‹
- æ¨¡å¼è¯†åˆ«ï¼š[æ˜¯å¦åŒ¹é…å·²çŸ¥æ¨¡å¼]
- æ‰§è¡Œè½®æ•°ï¼š[Nè½®]
- è€—æ—¶ï¼š[Xç§’]

## å­¦ä¹ è¦ç‚¹
- æ¨¡å¼ï¼š[è¯†åˆ«æˆ–åˆ›å»ºçš„æ¨¡å¼]
- ç»éªŒï¼š[å¯å¤ç”¨çš„ç»éªŒ]
- æ”¹è¿›ï¼š[ä¸‹æ¬¡å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹]
```

### 2. agent_knowledge.mdï¼ˆAgentçš„é•¿æœŸè®°å¿†ï¼‰
**æ€§è´¨**ï¼šAgentä»sessionså­¦ä¹ çš„çŸ¥è¯†
**ä½ç½®**ï¼š`{work_dir}/.notes/{agent_name}/`
**ç”Ÿå‘½å‘¨æœŸ**ï¼šè·¨ä»»åŠ¡ç´¯ç§¯ï¼ŒæŒç»­è¿›åŒ–
**å†…å®¹è§„èŒƒ**ï¼š[ä¿æŒåŸæœ‰çš„è¯¦ç»†æ¨¡æ¿]

### 3. world_state.mdï¼ˆä¸–ç•Œçš„å®¢è§‚çŠ¶æ€ï¼‰
**æ€§è´¨**ï¼šä¸–ç•ŒçŠ¶æ€çš„å®¢è§‚è®°å½•ï¼Œæ‰€æœ‰Agentå…±äº«
**ä½ç½®**ï¼š`{work_dir}/world_state.md`ï¼ˆæ ¹ç›®å½•ï¼‰
**ç”Ÿå‘½å‘¨æœŸ**ï¼šæŒç»­å­˜åœ¨ï¼Œè·¨Agentã€è·¨ä»»åŠ¡
**æ›´æ–°æ—¶æœº**ï¼š
- ä»»åŠ¡å¼€å§‹æ—¶ï¼šè¯»å–å½“å‰ä¸–ç•ŒçŠ¶æ€ï¼Œäº†è§£ç¯å¢ƒ
- ä»»åŠ¡ç»“æŸæ—¶ï¼šå¿…é¡»å…ˆè¯»å–ç°æœ‰çŠ¶æ€ï¼Œæ•´åˆæ–°å‘ç°åå†å†™å…¥
- æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼šä¸æ›´æ–°ï¼ˆäº‹åŠ¡éš”ç¦»ï¼‰
**å…±äº«æ€§**ï¼šå¤šä¸ªAgentçœ‹åˆ°åŒä¸€ä¸ªä¸–ç•Œ
**æ›´æ–°æ–¹æ³•**ï¼š
```python
# âœ… æ­£ç¡®ï¼šå…ˆè¯»å–ï¼Œå†æ•´åˆï¼Œåå†™å…¥
existing = read_file("world_state.md") if exists else ""
merged = merge_discoveries(existing, new_findings)
write_file("world_state.md", merged)

# âŒ é”™è¯¯ï¼šç›´æ¥è¦†ç›–
write_file("world_state.md", new_state)  # ä¼šä¸¢å¤±å†å²ä¿¡æ¯ï¼
```

### 4. task_process.mdï¼ˆAgentçš„å·¥ä½œå†…å­˜ - å›¾çµå®Œå¤‡çš„å…³é”®ï¼‰
**æ€§è´¨**ï¼šæ— é™çŠ¶æ€å­˜å‚¨ï¼Œå®ç°å›¾çµå®Œå¤‡çš„æ ¸å¿ƒç»„ä»¶
**ä½ç½®**ï¼š`{work_dir}/.notes/{agent_name}/`
**ç”Ÿå‘½å‘¨æœŸ**ï¼šä»»åŠ¡æœŸé—´æŒç»­æ›´æ–°ï¼Œä»»åŠ¡ç»“æŸåå½’æ¡£
**æ ¸å¿ƒç‰¹æ€§**ï¼š
- **å·¥ä½œå†…å­˜**ï¼šä¿å­˜æ‰€æœ‰ä¸­é—´çŠ¶æ€ï¼Œçªç ´50è½®ä¸Šä¸‹æ–‡é™åˆ¶
- **åŠ¨æ€ä¿®æ”¹**ï¼šTODOåˆ—è¡¨å¯å¢åˆ æ”¹ï¼Œå®ç°åˆ†æ”¯å’Œå¾ªç¯
- **çŠ¶æ€å¤–éƒ¨åŒ–**ï¼šæ¯è½®æ€è€ƒåç«‹å³ä¿å­˜ï¼Œé˜²æ­¢çŠ¶æ€ä¸¢å¤±
- **ä»»åŠ¡å®Œæˆå‰å¿…é¡»åŒ…å«**ï¼šåˆ›å»ºsessionè®°å½•çš„æ­¥éª¤

## ğŸ“ æ‰§è¡Œåè®®

### 1. ä»»åŠ¡å¯åŠ¨ï¼ˆå¼ºåˆ¶åˆå§‹åŒ–ï¼‰
```python
def start_task(task):
    # å¼ºåˆ¶æ­¥éª¤1ï¼šç¡®ä¿ç›®å½•ç»“æ„
    ensure_dir(".sessions/")
    ensure_dir(".notes/{agent_name}/")
    
    # å¼ºåˆ¶æ­¥éª¤2ï¼šåˆå§‹åŒ–æˆ–è¯»å–çŸ¥è¯†
    if not exists(".notes/{agent_name}/agent_knowledge.md"):
        create_initial_knowledge()
    knowledge = read(".notes/{agent_name}/agent_knowledge.md")
    
    # å¼ºåˆ¶æ­¥éª¤3ï¼šåˆå§‹åŒ–ä¸–ç•ŒçŠ¶æ€
    if not exists("world_state.md"):
        create_initial_world_state()
    
    # 4. è¯†åˆ«å·²çŸ¥æ¨¡å¼
    pattern = match_pattern(task, knowledge)
    
    # 5. åˆ›å»ºåŠ¨æ€TODOï¼ˆå¿…é¡»åŒ…å«æ”¶å°¾æ­¥éª¤ï¼‰
    todo = create_todo(pattern)
    todo.append("åˆ›å»ºsessionè®°å½•")
    todo.append("æ›´æ–°agent_knowledge.md")
    todo.append("æ›´æ–°world_state.md")
    
    # 6. å†™å…¥task_process.md
    write(".notes/{agent_name}/task_process.md", todo)
```

### 2. TODOåŠ¨æ€ä¿®æ”¹ï¼ˆæ ¸å¿ƒç‰¹æ€§ï¼‰
```python
def execute_with_dynamic_todo():
    # 1. æ‰§è¡ŒTODOé¡¹
    result = execute(current_todo)
    
    # 2. ç«‹å³å¤–éƒ¨åŒ–çŠ¶æ€åˆ°task_process.md
    update_task_process({
        "completed": current_todo,
        "result": result
    })
    
    # 3. åŠ¨æ€è°ƒæ•´TODOåˆ—è¡¨
    if found_shortcut(result):
        # åˆ é™¤ä¸å¿…è¦çš„æ­¥éª¤
        remove_unnecessary_todos()
    elif need_more_steps(result):
        # æ·»åŠ æ–°å‘ç°çš„æ­¥éª¤
        add_new_todos()
    elif failed(result):
        # ä¿®æ”¹ç­–ç•¥
        modify_approach()
```

### 3. ä»»åŠ¡å®Œæˆï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰
```python
def complete_task(task_result):
    # å¼ºåˆ¶æ£€æŸ¥ï¼šæ‰€æœ‰æ­¥éª¤å¿…é¡»å®Œæˆ
    checklist = {
        "session_created": False,
        "knowledge_updated": False,
        "world_updated": False,
        "process_cleaned": False
    }
    
    # 1. åˆ›å»ºsessionè®°å½•ï¼ˆå¼ºåˆ¶ï¼‰
    session_file = f".sessions/{date}_{type}_{keywords}.md"
    if not create_session(session_file):
        raise Error("âŒ Sessionè®°å½•åˆ›å»ºå¤±è´¥ï¼Œä»»åŠ¡æœªå®Œæˆï¼")
    checklist["session_created"] = True
    
    # 2. æ›´æ–°AgentçŸ¥è¯†ï¼ˆå¼ºåˆ¶ï¼‰
    knowledge = read(".notes/{agent_name}/agent_knowledge.md")
    knowledge["task_count"] += 1
    knowledge["total_rounds"] += current_rounds
    if not update(".notes/{agent_name}/agent_knowledge.md", knowledge):
        raise Error("âŒ AgentçŸ¥è¯†æ›´æ–°å¤±è´¥ï¼Œä»»åŠ¡æœªå®Œæˆï¼")
    checklist["knowledge_updated"] = True
    
    # 3. æ›´æ–°ä¸–ç•ŒçŠ¶æ€ï¼ˆå¼ºåˆ¶ - å¿…é¡»å…ˆè¯»å–å†æ•´åˆï¼‰
    existing_world = read_file("world_state.md") if exists("world_state.md") else ""
    merged_world = merge_world_state(existing_world, task_result)
    if not write_file("world_state.md", merged_world):
        raise Error("âŒ ä¸–ç•ŒçŠ¶æ€æ›´æ–°å¤±è´¥ï¼Œä»»åŠ¡æœªå®Œæˆï¼")
    checklist["world_updated"] = True
    
    # 4. æ¸…ç†å·¥ä½œè®°å¿†ï¼ˆå¼ºåˆ¶ï¼‰
    clear(".notes/{agent_name}/task_process.md")
    checklist["process_cleaned"] = True
    
    # æœ€ç»ˆéªŒè¯
    if not all(checklist.values()):
        failed = [k for k,v in checklist.items() if not v]
        raise Error(f"âŒ ä»»åŠ¡æœªå®Œæˆï¼Œå¤±è´¥é¡¹: {failed}")
    
    print("âœ… ä»»åŠ¡å®Œæˆï¼Œæ‰€æœ‰è®°å½•å·²åˆ›å»º")
```

### 4. Sessionæ–‡ä»¶ç®¡ç†
**å‘½åç­–ç•¥**ï¼š
- æ¯ä¸ªä»»åŠ¡åˆ›å»ºç‹¬ç«‹çš„sessionæ–‡ä»¶
- æ–‡ä»¶ååŒ…å«ç±»å‹å’Œå…³é”®è¯ï¼Œä¾¿äºæœç´¢
- æ ¼å¼ï¼š`{date}_{type}_{keywords}.md`

**æœç´¢ä¼˜åŠ¿**ï¼š
```python
# Agentå¯ä»¥å¿«é€ŸæŸ¥æ‰¾ç›¸å…³ç»éªŒ
glob(".sessions/*undefined_var*.md")  # æ‰€æœ‰æœªå®šä¹‰å˜é‡é”™è¯¯
glob(".sessions/*debug*.md")          # æ‰€æœ‰è°ƒè¯•ä»»åŠ¡
glob(".sessions/*2024-12-19*.md")     # ç‰¹å®šæ—¥æœŸçš„ä»»åŠ¡
```

**å†…å®¹èšç„¦**ï¼š
- æ¯ä¸ªæ–‡ä»¶èšç„¦ä¸€ä¸ªå…·ä½“é—®é¢˜
- åŒ…å«é—®é¢˜ã€è§£å†³æ–¹æ¡ˆã€å­¦ä¹ è¦ç‚¹
- ä¾¿äºçŸ¥è¯†æå–å’Œå¤ç”¨

## ğŸš¨ å¼ºåˆ¶è§„åˆ™ - è¿åå°†å¯¼è‡´ä»»åŠ¡å¤±è´¥

### âš ï¸ ä»»åŠ¡å®Œæˆå¼ºåˆ¶è¦æ±‚
**ä»»ä½•ä»»åŠ¡ï¼Œæ— è®ºç®€å•æˆ–å¤æ‚ï¼Œå¿…é¡»åœ¨ç»“æŸå‰å®Œæˆä»¥ä¸‹æ“ä½œï¼Œå¦åˆ™ä»»åŠ¡è§†ä¸ºå¤±è´¥ï¼š**

1. **åˆ›å»ºSessionè®°å½•** (`.sessions/{date}_{type}_{keywords}.md`)
   - å³ä½¿æ˜¯ç®€å•ä»»åŠ¡ä¹Ÿå¿…é¡»åˆ›å»º
   - å³ä½¿åªæœ‰1è½®ä¹Ÿå¿…é¡»è®°å½•
   - "ä»»åŠ¡ç®€å•"ä¸æ˜¯è·³è¿‡çš„ç†ç”±

2. **æ›´æ–°AgentçŸ¥è¯†** (`.notes/{agent_name}/agent_knowledge.md`)
   - è‡³å°‘è®°å½•ä»»åŠ¡ç»Ÿè®¡ï¼ˆä»»åŠ¡æ•°+1ï¼Œè½®æ•°ï¼‰
   - å³ä½¿æ²¡æœ‰æ–°æ¨¡å¼ä¹Ÿè¦æ›´æ–°ç»Ÿè®¡
   - é¦–æ¬¡æ‰§è¡Œè¦åˆ›å»ºæ–‡ä»¶

3. **æ›´æ–°ä¸–ç•ŒçŠ¶æ€** (`world_state.md`)
   - è®°å½•ä»»åŠ¡å®Œæˆæ—¶é—´
   - æ›´æ–°Agentæ´»åŠ¨è®°å½•
   - è®°å½•ä¸–ç•Œçš„å˜åŒ–

4. **æ¸…ç†å·¥ä½œè®°å¿†** (`.notes/{agent_name}/task_process.md`)
   - æ ‡è®°æ‰€æœ‰TODOä¸ºå®Œæˆ
   - æˆ–æ¸…ç©ºå‡†å¤‡ä¸‹æ¬¡ä»»åŠ¡

**è¿åæ£€æµ‹**ï¼šå¦‚æœä»»åŠ¡ç»“æŸæ—¶ä¸Šè¿°æ–‡ä»¶ä¸å­˜åœ¨æˆ–æœªæ›´æ–°ï¼Œç³»ç»Ÿåº”æŠ¥é”™ï¼š
```
âŒ é”™è¯¯ï¼šä»»åŠ¡æœªæŒ‰åè®®å®Œæˆ
- [ ] Sessionè®°å½•æœªåˆ›å»º
- [ ] AgentçŸ¥è¯†æœªæ›´æ–°  
- [ ] ä¸–ç•ŒçŠ¶æ€æœªæ›´æ–°
ä»»åŠ¡éœ€è¦é‡æ–°æ‰§è¡Œï¼
```

### è¯»å†™è§„åˆ™
1. **agent_knowledge.md**ï¼šç´¯ç§¯æ›´æ–°ï¼ŒæŒç»­è¿›åŒ–ï¼Œæ¯ä¸ªä»»åŠ¡å¿…é¡»æ›´æ–°
2. **sessions**ï¼šåªèƒ½è¿½åŠ ï¼Œä¸èƒ½ä¿®æ”¹æˆ–åˆ é™¤ï¼Œæ¯ä¸ªä»»åŠ¡å¿…é¡»åˆ›å»º
3. **world_state.md**ï¼šä»»åŠ¡å†…åªåœ¨å¼€å§‹å’Œç»“æŸæ—¶æ›´æ–°ï¼Œç»“æŸæ—¶å¿…é¡»æ›´æ–°
4. **task_process.md**ï¼šå¿…é¡»å®æ—¶æ›´æ–°ï¼Œåæ˜ çœŸå®æ‰§è¡Œ

### è·¯å¾„è§„åˆ™
1. **çŸ¥è¯†å…±äº«**ï¼šé€šè¿‡`.notes/`å’Œ`.sessions/`
2. **ä»»åŠ¡éš”ç¦»**ï¼šé€šè¿‡`{work_dir}/`
3. **ç›¸å¯¹è·¯å¾„**ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„é¿å…åµŒå¥—

### TODOåŠ¨æ€ä¿®æ”¹è§„åˆ™
1. **å®æ—¶åæ˜ **ï¼šTODOå¿…é¡»åæ˜ çœŸå®å†³ç­–è¿‡ç¨‹
2. **çµæ´»è°ƒæ•´**ï¼šå¯ä»¥éšæ—¶æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹TODOé¡¹
3. **å¤–éƒ¨åŒ–æ€è€ƒ**ï¼šå†…éƒ¨å†³ç­–å¿…é¡»ä½“ç°åœ¨TODOæ›´æ–°ä¸­

## ğŸ” é”™è¯¯å¤„ç†

### æ–‡ä»¶ä¸å­˜åœ¨
- `agent_knowledge.md`ä¸å­˜åœ¨ â†’ åˆ›å»ºæ–°çš„ï¼Œä»é›¶å¼€å§‹å­¦ä¹ 
- `world_state.md`ä¸å­˜åœ¨ â†’ åˆ›å»ºåˆå§‹çŠ¶æ€
- `sessions`ç›®å½•ä¸å­˜åœ¨ â†’ åˆ›å»ºç›®å½•

### è·¯å¾„é”™è¯¯
- åœ¨é”™è¯¯è·¯å¾„æ‰¾çŸ¥è¯† â†’ é‡å®šå‘åˆ°æ­£ç¡®è·¯å¾„
- å†™å…¥é”™è¯¯ä½ç½® â†’ ç§»åŠ¨åˆ°æ­£ç¡®ä½ç½®

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å­¦ä¹ æ•ˆæœ
```python
metrics = {
    "æ¨¡å¼å¤ç”¨ç‡": "ä½¿ç”¨å·²çŸ¥æ¨¡å¼çš„æ¯”ä¾‹",
    "çŸ¥è¯†å¢é•¿ç‡": "æ¯ä¸ªsessionäº§ç”Ÿçš„æ–°æ¨¡å¼æ•°",
    "æ‰§è¡Œä¼˜åŒ–ç‡": "ç›¸æ¯”é¦–æ¬¡æ‰§è¡Œçš„æ”¹è¿›ç¨‹åº¦"
}
```

### æ‰§è¡Œæ•ˆç‡
```python
efficiency = {
    "å·²çŸ¥æ¨¡å¼": "ç›´æ¥åº”ç”¨è§£å†³æ–¹æ¡ˆï¼Œè·³è¿‡åˆ†æ",
    "æ–°æ¨¡å¼": "å®Œæ•´åˆ†æã€è§£å†³ã€éªŒè¯æµç¨‹",
    "çŸ¥è¯†æç‚¼": "ä»å…·ä½“æ¡ˆä¾‹åˆ°æŠ½è±¡åŸç†"
}
```

## ğŸ“‹ TODOæ¨¡æ¿ç¤ºä¾‹

### å·²çŸ¥æ¨¡å¼TODO
```markdown
## æ‰§è¡Œè®¡åˆ’ï¼ˆå·²çŸ¥æ¨¡å¼ï¼‰
- [x] è¯†åˆ«æ¨¡å¼ï¼šæœªå®šä¹‰å˜é‡é”™è¯¯
- [ ] åº”ç”¨å·²çŸ¥è§£å†³æ–¹æ¡ˆï¼šåˆ é™¤æœªå®šä¹‰å˜é‡
- [ ] éªŒè¯ä¿®å¤
- [ ] æ›´æ–°çŸ¥è¯†åº“
```

### æ–°æ¨¡å¼TODO
```markdown
## æ‰§è¡Œè®¡åˆ’ï¼ˆæ–°æ¨¡å¼ï¼‰
- [ ] åˆ†æé—®é¢˜
- [ ] è®¾è®¡è§£å†³æ–¹æ¡ˆ
- [ ] å®ç°ä¿®å¤
- [ ] æµ‹è¯•éªŒè¯
- [ ] æç‚¼ç»éªŒåˆ°knowledge
```

### åŠ¨æ€ä¿®æ”¹ç¤ºä¾‹
```markdown
## åˆå§‹TODO
- [ ] åˆ†æé”™è¯¯ç±»å‹
- [ ] æŸ¥æ‰¾æ ¹å› 
- [ ] è®¾è®¡å¤šä¸ªæ–¹æ¡ˆ
- [ ] é€‰æ‹©æœ€ä½³æ–¹æ¡ˆ

## å‘ç°æ˜¯å·²çŸ¥æ¨¡å¼åï¼ˆåŠ¨æ€ç®€åŒ–ï¼‰
- [x] åˆ†æé”™è¯¯ç±»å‹ â†’ æœªå®šä¹‰å˜é‡
- [x] ~~æŸ¥æ‰¾æ ¹å› ~~ ï¼ˆå·²çŸ¥æ¨¡å¼ï¼Œè·³è¿‡ï¼‰
- [x] ~~è®¾è®¡å¤šä¸ªæ–¹æ¡ˆ~~ ï¼ˆç›´æ¥ç”¨å·²çŸ¥æ–¹æ¡ˆï¼‰
- [ ] åº”ç”¨æ ‡å‡†ä¿®å¤ï¼šåˆ é™¤å˜é‡
```

### ä»»åŠ¡æ”¶å°¾TODOï¼ˆæ‰€æœ‰è·¯å¾„å¿…é¡»åŒ…å«ï¼‰
```markdown
## æ”¶å°¾æ­¥éª¤ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼Œä¸å¯è·³è¿‡ï¼‰
- [ ] åˆ›å»ºsessionæ–‡ä»¶ï¼š.sessions/{date}_{type}_{keywords}.md
- [ ] æ›´æ–°agent_knowledge.mdï¼ˆè‡³å°‘æ›´æ–°ä»»åŠ¡è®¡æ•°å’Œè½®æ•°ï¼‰
- [ ] æ›´æ–°world_state.mdï¼ˆè®°å½•ä»»åŠ¡å®Œæˆï¼‰
- [ ] æ¸…ç†task_process.mdï¼ˆæ ‡è®°å®Œæˆæˆ–æ¸…ç©ºï¼‰

âš ï¸ å¦‚æœè·³è¿‡ä»»ä½•ä¸€æ­¥ï¼Œä»»åŠ¡å¤±è´¥ï¼
```

### ä»»åŠ¡å¼€å§‹è‡ªæ£€
```markdown
## å¼€å§‹å‰æ£€æŸ¥
- [ ] è¯»å–agent_knowledge.mdï¼ˆå¦‚ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰
- [ ] è¯»å–world_state.mdï¼ˆå¦‚ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰
- [ ] åˆ›å»ºtask_process.mdï¼ˆè®°å½•TODOï¼‰
- [ ] ç¡®è®¤.sessions/ç›®å½•å­˜åœ¨ï¼ˆå¦‚ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰
```

## ğŸ¯ æ ¸å¿ƒç†å¿µ

1. **Event Sourcing**ï¼šsessionsæ˜¯ä¸å¯å˜çš„äº‹å®æ¥æº
2. **çŸ¥è¯†è¿›åŒ–**ï¼šä»sessionsè‡ªåŠ¨å­¦ä¹ å’Œæç‚¼
3. **å†³ç­–å¤–éƒ¨åŒ–**ï¼šå†…éƒ¨æ€è€ƒå¿…é¡»ä½“ç°åœ¨TODOä¸­
4. **è·¯å¾„ä¼˜åŒ–**ï¼šæ ¹æ®æ¨¡å¼é¢‘ç‡é€‰æ‹©æœ€ä¼˜æ‰§è¡Œè·¯å¾„

è¿™ä¸ªæ¶æ„ç¡®ä¿äº†ï¼š
- å®Œæ•´çš„æ‰§è¡Œå†å²ï¼ˆsessionsï¼‰
- æŒç»­çš„çŸ¥è¯†ç§¯ç´¯ï¼ˆagent_knowledgeï¼‰
- æ¸…æ™°çš„çŠ¶æ€ç®¡ç†ï¼ˆworld_stateï¼‰
- åŠ¨æ€çš„æ‰§è¡Œæ§åˆ¶ï¼ˆtask_processï¼‰