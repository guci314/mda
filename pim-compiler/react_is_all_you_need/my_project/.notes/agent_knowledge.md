# Agent知识库

## 成功模式
### FastAPI项目导入修复模式
- **适用场景**：FastAPI项目中模块导入失败
- **解决方案**：
  1. 检查__init__.py文件中的导出名称
  2. 检查导入语句中的名称是否匹配
  3. 确保导入路径正确
  4. 使用调试脚本验证导入
- **效果**：快速定位和修复导入问题
- **注意事项**：注意模块名称的单复数形式一致性

### 单元测试调试模式
- **适用场景**：Python单元测试运行失败
- **解决方案**：
  1. 创建简单的调试脚本隔离问题
  2. 逐步验证导入和功能
  3. 使用TestClient测试API端点
  4. 运行单个测试文件验证
- **效果**：系统性地诊断和修复测试问题
- **注意事项**：清理临时调试文件

## 错误模式
### 模块导入名称不匹配错误
- **表现**：ImportError: cannot import name 'xxx' from 'module'
- **原因**：导入语句中的名称与模块实际导出的名称不匹配
- **解决**：检查__init__.py文件中的导出，确保名称一致
- **预防**：使用统一的命名约定，定期检查导入导出一致性

### 测试环境配置错误
- **表现**：测试无法运行或导入失败
- **原因**：Python路径或依赖配置问题
- **解决**：添加当前目录到sys.path，确保依赖安装
- **预防**：使用虚拟环境，配置正确的测试环境

## 最佳实践
### FastAPI项目结构
- **原则**：清晰的模块化结构
- **示例**：
  - main.py: 应用入口
  - routers/: API路由
  - models/: 数据模型
  - tests/: 单元测试
- **收益**：代码组织清晰，易于维护和测试

### 调试技巧
- **原则**：创建隔离的调试环境
- **示例**：编写临时调试脚本验证假设
- **收益**：快速定位问题，避免破坏生产代码

---
更新时间：2024-12-19T10:30:00Z