# 任务管理系统

## 业务描述
一个简单但功能完整的任务管理系统，允许用户创建、管理和跟踪任务的完成情况。

## 业务实体

### 任务 (Task)
代表需要完成的一项工作。

属性：
- 标题：任务的简短描述（必填）
- 描述：任务的详细说明（可选）
- 优先级：高/中/低
- 状态：待办/进行中/已完成/已取消
- 截止日期：任务应完成的日期（可选）
- 创建时间：任务创建的时间
- 更新时间：最后修改时间
- 完成时间：任务完成的时间（可选）

### 标签 (Tag)
用于分类和组织任务。

属性：
- 名称：标签名（唯一）
- 颜色：标签的显示颜色（十六进制）
- 描述：标签的说明（可选）

### 任务标签关系
任务可以有多个标签，标签可以用于多个任务（多对多关系）。

## 业务服务

### 任务服务 (TaskService)
管理任务的核心业务逻辑。

方法：
1. 创建任务
   - 输入：标题、描述、优先级、截止日期、标签列表
   - 验证：标题不能为空，截止日期必须是未来时间
   - 输出：创建的任务

2. 更新任务
   - 输入：任务ID、更新的字段
   - 验证：只能更新存在的任务
   - 输出：更新后的任务

3. 更改任务状态
   - 输入：任务ID、新状态
   - 业务规则：
     - 已取消的任务不能再更改状态
     - 完成任务时记录完成时间
   - 输出：更新后的任务

4. 查询任务
   - 支持按状态、优先级、标签筛选
   - 支持按创建时间、截止日期排序
   - 支持分页

5. 删除任务
   - 只能删除已完成或已取消的任务

### 标签服务 (TagService)
管理标签。

方法：
1. 创建标签
2. 更新标签
3. 删除标签（只能删除未被使用的标签）
4. 获取所有标签
5. 获取任务的标签
